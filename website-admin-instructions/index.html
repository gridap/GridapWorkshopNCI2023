<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="/libs/lunr/lunr.min.js"></script>
<script src="/libs/lunr/lunr_index.js"></script>
<script src="/libs/lunr/lunrclient.min.js"></script>
  
   <link rel="stylesheet" href="/libs/highlight/github.min.css">
   
  <link rel="stylesheet" href="/css/franklin.css">
<link rel="stylesheet" href="/css/poole_hyde.css">
<link rel="stylesheet" href="/css/custom.css">
<!-- style adjustments -->
<style>
  html {font-size: 17px;}
  .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;}
  @media (min-width: 940px) {
    .franklin-content {width: 100%; margin-left: auto; margin-right: auto;}
  }
  @media (max-width: 768px) {
    .franklin-content {padding-left: 6%; padding-right: 6%;}
  }
</style>

<link rel="apple-touch-icon" sizes="152x152" href="/assets/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/favicon/site.webmanifest">
<link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



   <title>website-memo</title>  
</head>
<style>
.content {max-width: 60rem}
</style>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <img src="/assets/logos.png" style="width: 500px; height: auto; display: inline">
      <div style="font-weight: margin-bottom: 0.5em"><a href="/">28-29th, November, 2023</a> <span style="opacity: 0.9;">| Australian National University, Canberra</span></div>
      <br>
      <h1><a href="/">Introduction to Gridap: Simulating PDEs using finite elements in Julia</a></h1>
      <div style="line-height:18px; font-size: 15px; opacity: 0.85">by &nbsp; <a href="https://research.monash.edu/en/persons/santiago-badia">Santiago Badia</a>, &nbsp; <a href="https://amartinhuertas.github.io/">Alberto F. Martin</a>, &nbsp; <a href="https://github.com/JordiManyer">Jordi Manyer</a> </div>
    </div>
    <br>
    <style>
    </style>
    <nav class="sidebar-nav" style="opacity: 0.9; margin-bottom: 1.2cm;">
      <a class="sidebar-nav-item " href="/"><b>Welcome</b></a>
      <a class="sidebar-nav-item " href="/venue/"><b>Venue</b></a>
      <a class="sidebar-nav-item " href="/schedule"><b>Schedule</b></a>
      <a class="sidebar-nav-item " href="/software_install/">Software install instructions</a>
      <a class="sidebar-nav-item " href="/tutorials/">Tutorials & Exercises</a>
      <a class="sidebar-nav-item " href="/references/">References</a>
      <a class="sidebar-nav-item " href="/grants/">Registration and
               grants for research students</a>
      <a class="sidebar-nav-item " href="/acks/">Acknowledgements</a>         
      <a class="sidebar-nav-item " href="/flyer/">Event Flyer</a>
      <br>
    </nav>
    <form id="lunrSearchForm" name="lunrSearchForm">
      <input class="search-input" name="q" placeholder="Enter search term" type="text">
      <input type="submit" value="Search" formaction="/search/index.html">
    </form>
    <br>
    <br>
  </div>
</div>
<div class="content container">

<!-- Content appended here -->
<div class="franklin-content"><h1 id="website-memo"><a href="#website-memo" class="header-anchor">website-memo</a></h1>
<p>This document lists the basics on how to edit the course website accessible at https://gridap.github.io/GridapWorkshopNCI2023.</p>
<h2 id="franklin_static_website"><a href="#franklin_static_website" class="header-anchor">Franklin static website</a></h2>
<p>To test the website locally &#40;or after making a pull from Git&#41;:</p>
<pre><code class="language-julia-repl">julia&gt; using Franklin, NodeJS

julia&gt; serve&#40;clear&#61;true&#41;</code></pre>
<blockquote>
<p>Note the first time you are using <code>NodeJS</code>, you need to execute:</p>
</blockquote>
<pre><code class="language-julia-repl">julia&gt; run&#40;&#96;sudo &#36;&#40;npm_cmd&#40;&#41;&#41; install highlight.js&#96;&#41;</code></pre>
<h2 id="how-to"><a href="#how-to" class="header-anchor">How-to</a></h2>
<h3 id="add_youtube_video"><a href="#add_youtube_video" class="header-anchor">Add YouTube video</a></h3>
<p>To embed YouTube videos, go to YouTube, click on the <code>Share</code> link and then <code>&lt;Embed&gt;</code>, and copy-paste the script into an html block:</p>
<pre><code class="language-md">~~~
&lt;iframe width&#61;&quot;560&quot; height&#61;&quot;315&quot; src&#61;&quot;https://www.youtube.com/embed/DvlM0w6lYEY&quot; title&#61;&quot;YouTube video player&quot; frameborder&#61;&quot;0&quot; allow&#61;&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;
~~~</code></pre>
<h3 id="notebook_code_and_markdown_with_franklin"><a href="#notebook_code_and_markdown_with_franklin" class="header-anchor">Notebook, code, and markdown with Franklin</a></h3>
<p>Using <code>Literate.jl</code> permit to write a single <code>.jl</code> source file that can contain Julia code and markdown comments and can be transformed into a markdown page, a notebook and notebook-based slides. The website build with <code>Franklin.jl</code> has native support to integrate <code>.jl</code> scripts ready to be processed by <code>Literate.jl</code> in markdown.</p>
<p>To allow <code>mdstring</code> to render correctly in Franklin, one need to set the page variable <code>literate_mds &#61; true</code>. See <a href="https://github.com/tlienart/Franklin.jl/pull/882">here</a> for details.</p>
<p>To disable code execution but allow rendering on the website, one needs to set the page variable <code>noeval &#61; true</code>. See <a href="https://github.com/tlienart/Franklin.jl/commit/63d757f7eb7e96e7b9112f8a1dca7d1be54d487d">here</a> for details.</p>
<h4 id="display_julia_script_as_markdown_page_on_the_website"><a href="#display_julia_script_as_markdown_page_on_the_website" class="header-anchor">Display Julia script as Markdown page on the website</a></h4>
<ol>
<li><p>Create a Literate-ready <code>my_script.jl</code> script</p>
</li>
<li><p>Place it in the <code>_literate</code> folder</p>
</li>
<li><p>Add <code>\literate&#123;/_literate/my_script.jl&#125;</code> in the website page you want to include <code>my_script.jl</code> markdown rendering</p>
</li>
<li><p>Done</p>
</li>
</ol>
<p>Note that there are 2 pre-defined box environments to highlight <strong>note</strong> and <strong>warning</strong>. Use them as following:</p>
<pre><code class="language-md">#md # \note&#123;...&#125;
#md # \warn&#123;...&#125;</code></pre>
<h4 id="notebook_deploy"><a href="#notebook_deploy" class="header-anchor">Notebook deploy</a></h4>
<p>Running the <code>deploy_notebooks.jl</code> scripts located in <a href="slide-notebooks">slide-notebooks</a> and <a href="exercise-notebooks">exercise-notebooks</a> folder will:</p>
<ul>
<li><p>create <code>.ipynb</code> from the <code>.jl</code> script</p>
</li>
<li><p>move the <code>.ipynb</code> and figures to the <code>./notebook</code> folder &#40;and <code>./notebook/figures</code>&#41;</p>
</li>
<li><p>create a <code>_web.jl</code> script and move it to <code>website/_literate</code> to be included in the website lecture pages. Figure links in the <code>_web.jl</code> files are changes from <code>./figures/</code> to <code>../website/_assets/literate_figures/</code> for correct rendering in html file.</p>
</li>
<li><p>create, if needed, a figures folder in <code>website/_assets/literate_figures</code> folder to hold figures for Literate scripts</p>
</li>
<li><p>ðŸ’¡ both deploy script contain a variable <code>incl::String</code> you can set to only include specific scripts &#40;e.g. <code>incl&#61;l2</code>, <code>incl&#61;lecture2</code>&#41;</p>
</li>
</ul>
<p><strong>Important note:</strong> The <code>deploy_notebooks.jl</code> script in <a href="slide-notebooks">slide-notebooks</a> makes it possible to preprocess the Literate script for <em>hints</em> and <em>solution</em> keywords:</p>
<pre><code class="language-julia">## Set &#96;sol&#61;true&#96; to produce output with solutions contained and hints stripts. Otherwise the other way around.
sol &#61; true</code></pre>
<p>You can populate lines beginning of Literate script with <code>#hint&#61;</code> or <code>#sol&#61;</code> which will permit to corresponding lines to be removed upon preprocessing &#40;e.g. before / after the lecture&#41;.</p>
<p><strong>To deploy notebooks</strong></p>
<ol>
<li><p>Run the deploy script from its folder</p>
</li>
<li><p>Include the correct <code>_web.jl</code> filename in e.g. <code>website/lectureXY.md</code> file</p>
</li>
<li><p>Push</p>
</li>
</ol>
<h4 id="launch_a_notebook_from_the_script"><a href="#launch_a_notebook_from_the_script" class="header-anchor">Launch a notebook from the script</a></h4>
<ol>
<li><p>In Julia, load Literate and export <code>my_script.jl</code> as a notebook:</p>
</li>
</ol>
<pre><code class="language-julia">julia&gt; using Literate

julia&gt; Literate.notebook&#40;&quot;my_script.jl&quot;, outputdir&#61;pwd&#40;&#41;&#41;</code></pre>
<ol start="2">
<li><p>Then load IJulia and launch the notebook for the given path</p>
</li>
</ol>
<pre><code class="language-julia">julia&gt; using IJulia

julia&gt; notebook&#40;dir&#61;&quot;/some/path&quot;&#41;</code></pre>
<h4 id="transform_the_notebook_into_a_presentation"><a href="#transform_the_notebook_into_a_presentation" class="header-anchor">Transform the notebook into a presentation</a></h4>
<ol>
<li><p>To allow for slide rendering as <em>slide, subslide or fragment</em>, populate <code>my_script.jl</code> &quot;source&quot; code with</p>
</li>
</ol>
<pre><code class="language-julia">#nb # &#37;&#37; A slide &#91;markdown&#93; &#123;&quot;slideshow&quot;: &#123;&quot;slide_type&quot;: &quot;slide/subslide/fragment&quot;&#125;&#125;</code></pre>
<ol start="2">
<li><p>To view the notebook as a slideshow, install the <a href="https://rise.readthedocs.io/en/stable/installation.html">RISE plugin</a>.</p>
</li>
<li><p>Open the notebook as in <a href="#launch-a-notebook-from-the-script">here</a></p>
</li>
<li><p>Press <code>alt-r</code> to start. Use spacebar to advance.</p>
</li>
</ol>
<h3 id="generate_mp4_out_of_gif"><a href="#generate_mp4_out_of_gif" class="header-anchor">Generate <code>mp4</code> out of <code>gif</code></a></h3>
<p>In the second edition, we prefer <code>mp4</code> instead of <code>gif</code>. Using FFMPEG, one can swiftly convert gifs into mp4:</p>
<pre><code class="language-julia">run&#40;&#96;ffmpeg -i input_anim.gif -c libx264 -pix_fmt yuv420p -vf &quot;pad&#61;ceil&#40;iw/2&#41;*2:ceil&#40;ih/2&#41;*2:color&#61;white&quot; -y output_anim.mp4&#96;&#41;</code></pre>
<p>Or generate them from <code>png</code>s:</p>
<pre><code class="language-julia">run&#40;&#96;ffmpeg -framerate 30 -i &#37;&#37;04d.png -c libx264 -pix_fmt yuv420p -vf &quot;pad&#61;ceil&#40;iw/2&#41;*2:ceil&#40;ih/2&#41;*2:color&#61;white&quot; -y output_anim.mp4&#96;&#41;</code></pre>
<p>The <code>mp4</code> animation can then be embedded as follow in <code>Literate.jl</code> scripts:</p>
<pre><code class="language-julia">#md # ~~~
# &lt;center&gt;
#   &lt;video width&#61;&quot;80&#37;&quot; autoplay loop controls src&#61;&quot;./path-to-anim/anim.mp4&quot;/&gt;
# &lt;/center&gt;
#md # ~~~</code></pre>
<p>or directly into <code>.md</code> scripts as</p>
<pre><code class="language-md">&lt;center&gt;
  &lt;video width&#61;&quot;80&#37;&quot; autoplay loop controls src&#61;&quot;./path-to-anim/anim.mp4&quot;/&gt;
&lt;/center&gt;</code></pre>
<h3 id="gif_and_loopcount"><a href="#gif_and_loopcount" class="header-anchor"><code>gif</code> and loopcount</a></h3>
<p>You can use <a href="https://www.lcdf.org/gifsicle/">gifsicle</a> as command line tool to modify the loopcount for gifs to be included in the scripts &#40;tested on MacOS&#41;:</p>
<pre><code class="language-sh">gifsicle gif_loopcount_inf.gif --no-loopcount &gt; new_gif_no_loopcount.gif
gifsicle gif_loopcount_inf.gif --loop&#61;3 &gt; new_gif_loopcount_3.gif</code></pre>
<h2 id="misc"><a href="#misc" class="header-anchor">Misc</a></h2>
<h3 id="control_the_global_page_content_width"><a href="#control_the_global_page_content_width" class="header-anchor">Control the global page content width</a></h3>
<p>Put in <code>_layout/head</code> the following, before the opening of the body and after the loading of the css:</p>
<pre><code class="language-html">&lt;style&gt;
.content &#123;max-width: 50rem&#125;
&lt;/style&gt;</code></pre>
<h3 id="html_color-picker"><a href="#html_color-picker" class="header-anchor">HTML color-picker</a></h3>
<p>https://www.w3schools.com/colors/colors_picker.asp</p>
<h2 id="additional_notes"><a href="#additional_notes" class="header-anchor">Additional notes</a></h2>
<p>The scripts have been moved to <code>GridapWorkshop2023Material</code>, which is listed in this repo as a submodule in <code>workshop-materials</code>. This allows for the following:</p>
<ul>
<li><p>The fully-annotated scripts are in <code>workshop-materials/src</code>. These scripts can be processed to generate the different tutorial formats. </p>
</li>
<li><p>The script <code>workshop-materials/src/_build.jl</code> parses the scripts and generates</p>
<ul>
<li><p>a jupyter notebook version in <code>workshop-materials/notebooks</code>.</p>
</li>
<li><p>a stripped script version in <code>workshop-materials/scripts</code>.</p>
</li>
</ul>
</li>
<li><p>The script <code>process_materials.jl</code> parses the scripts and generates the <code>.jl</code> files in the folder <code>_literate</code>, which can then be included by Franklin.jl. </p>
</li>
</ul>
<p>Changes pushed to the submodule will not be seen by this repository &#40;since the submodule is pinned to a specific commit&#41;. To update the submodule, do the following:</p>
<pre><code class="language-bash">git submodule update --remote
git add workshop-materials
git commit -m &quot;git submodule updated&quot;
git push origin main</code></pre>
<p>Alternatively, one can work locally from this repo, doing changes to both repositories then commiting and pushing the changes to both repos.</p>
<div class="page-foot">
  <div class="copyright">
    <a href="https://github.com/gridap/GridapWorkshopNCI2023"><b>Edit this page on <img class="github-logo" src="https://unpkg.com/ionicons@5.1.2/dist/svg/logo-github.svg"></img></b></a><br>
    Last modified: November 25, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->
    </div>  <!-- div: content container -->
    
    
        <script src="/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>

    
  </body>
</html>
